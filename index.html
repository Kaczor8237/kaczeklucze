<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>KACZE KLUCZE | Najta≈Ñsze klucze 2025</title>
    <link rel="icon" href="logo.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Rajdhani:wght@500;700&family=Creepster&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        /* ca≈Çy poprzedni styl zostaje ‚Äì tylko lekko podrasowany pod mobile */
        *{margin:0;padding:0;box-sizing:border-box}
        body{background:#000;color:#fff;font-family:'Rajdhani',sans-serif;overflow-x:hidden}
        .top-bar{background:#111;padding:12px;font-size:14px;text-align:center;border-bottom:1px solid #333;color:#aaa}
        header{text-align:center;padding:70px 20px 50px}
        .duck-logo{width:120px;margin:0 auto 20px}
        .duck-logo img{width:100%}
        h1{font-family:'Orbitron',sans-serif;font-size:11vw;letter-spacing:6px;text-transform:uppercase}
        @media(min-width:768px){h1{font-size:80px}}
        .subtitle{font-size:18px;color:#aaa;letter-spacing:4px}

        .carousel-container{max-width:100%;margin:30px 0;position:relative;overflow:hidden;padding:0 10px}
        .carousel{display:flex;gap:18px;overflow-x:auto;scroll-behavior:smooth;padding:15px 0;scrollbar-width:none}
        .carousel::-webkit-scrollbar{display:none}
        .carousel-arrow{position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,0.8);color:#fff;border:none;width:48px;height:48px;border-radius:50%;font-size:28px;z-index:10}
        .carousel-arrow:hover{background:#ffc439;color:#000}
        .prev-arrow{left:5px}
        .next-arrow{right:5px}

        .key-card{width:300px;flex-shrink:0;border-radius:16px;overflow:hidden;background:#111;border:2px solid #222;box-shadow:0 8px 30px rgba(0,0,0,0.7);transition:.4s}
        .key-card:hover{border-color:#ffc439;transform:translateY(-12px)}
        .game-cover{height:400px;background-size:cover;background-position:center}
        .game-info{padding:18px;text-align:center}
        .game-title{font-family:'Creepster',cursive;font-size:23px;color:#ffc439;margin:8px 0}
        .prices{font-size:19px;margin:10px 0}
        .original-price{text-decoration:line-through;color:#666}
        .your-price{font-size:36px;font-weight:bold}
        .buy-btn{margin:10px 5px;padding:14px;background:#ffc439;color:#000;font-weight:bold;border:none;border-radius:8px;cursor:pointer;width:88%}
        .buy-btn.blik{background:#ff5c00;color:#fff}
        .buy-btn:hover{transform:scale(1.05)}

        .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.96);justify-content:center;align-items:center;z-index:999;padding:20px}
        .modal-content{background:#111;padding:40px 25px;max-width:460px;width:100%;border-radius:16px;border:3px solid #333;text-align:center}
        .close{position:absolute;top:10px;right:15px;font-size:40px;color:#aaa;cursor:pointer}
        input[type=text],input[type=tel],input[type=email]{width:100%;padding:16px;margin:12px 0;border-radius:12px;border:2px solid #333;background:#000;color:#fff;font-size:18px}
        #blikPhone::placeholder{color:#ff5c00;font-weight:bold}
    </style>
</head>
<body>
    <div class="top-bar">PONAD 800 SPRZEDANYCH KLUCZY ‚Ä¢ BLIK NA TELEFON ‚Ä¢ 100% BEZPIECZNE</div>
    <header>
        <div class="duck-logo"><img src="logo.png" alt="KACZE KLUCZE"></div>
        <h1>KACZE KLUCZE</h1>
        <div class="subtitle">instant ‚Ä¢ tanio ‚Ä¢ kwak!</div>
    </header>

    <div class="carousel-container">
        <button class="carousel-arrow prev-arrow"><i class="fas fa-chevron-left"></i></button>
        <div class="carousel" id="gamesContainer"></div>
        <button class="carousel-arrow next-arrow"><i class="fas fa-chevron-right"></i></button>
    </div>

    <!-- Modal zakupu -->
    <div id="buyModal" class="modal">
        <div class="modal-content">
            <span class="close">√ó</span>
            <h2 style="color:#ffc439;font-size:32px" id="modalTitle"></h2>
            <div style="font-size:48px;color:#ffc439;font-weight:bold" id="modalPrice"></div>
            
            <p style="margin:20px 0">Podaj e-mail (dostaniesz tam klucz)</p>
            <input type="email" id="buyerEmail" placeholder="tw√≥j@mail.com" required>

            <p style="margin:20px 0 5px;color:#ff5c00;font-weight:bold">BLIK NA TELEFON</p>
            <input type="tel" id="blikPhone" placeholder="np. 500 123 456" maxlength="12" required>

            <button class="buy-btn blik" id="payBlikBtn">ZAP≈ÅAƒÜ BLIKIEM ‚Üí</button>
            <button class="buy-btn" onclick="window.open('https://paypal.me/Kaczor8237/'+currentPrice+'PLN','_blank')">
                ALBO PAYPAL
            </button>
        </div>
    </div>

    <!-- Modal dziƒôki -->
    <div id="thanksModal" class="modal">
        <div class="modal-content">
            <span class="close">√ó</span>
            <h2 style="color:#ffc439;font-size:38px">KWAK! DZIƒòKI!</h2>
            <p style="font-size:22px;line-height:1.7">Klucz do <strong id="thanksGame"></strong><br>leci na <strong id="thanksEmail"></strong> w max 30 min!</p>
            <button class="buy-btn" style="background:#fff">CZEKAM NA KLUCZ ü¶Ü</button>
        </div>
    </div>

    <script>
        const gamesDatabase = [
            {f:"Mafia_II_Definitive_Edition",t:"Mafia II: Definitive Edition",p:35,o:169},
            {f:"Batman_Arkham_Knight_Premium",t:"Batman: Arkham Knight Premium",p:30,o:129},
            {f:"Ghost_of_Tsushima_Directors_Cut",t:"Ghost of Tsushima Director's Cut",p:124,o:299},
            {f:"Hogwarts_Legacy_Deluxe_Edition",t:"Hogwarts Legacy Deluxe",p:47,o:299},
            {f:"Mortal_Kombat_1",t:"Mortal Kombat 1",p:78,o:299},
            {f:"Marvels_Spider_Man_Remastered",t:"Marvel's Spider-Man Remastered",p:103,o:249},
            // dodawaj kolejne tak samo
        ];

        const WEBHOOK = "https://discord.com/api/webhooks/1443015742671814786/xM7ys5Mz02jnKw6yPkkWXob4KuzniGSgwr_do3i-6Dw6QIbjDR6j_HzAb0kUXgHQJrh0";
        let currentGame = "", currentPrice = 0;

        function createCard(g){
            const div = document.createElement('div');
            div.className = 'key-card';
            div.innerHTML = `
                <div class="game-cover" style="background-image:url('covers/${g.f}.jpg')"></div>
                <div class="game-info">
                    <div class="game-title">${g.t}</div>
                    <div class="prices">
                        <span class="original-price">${g.o} z≈Ç</span>
                        <span class="your-price">${g.p} z≈Ç</span>
                    </div>
                    <button class="buy-btn blik" onclick="openBlikModal('${g.t}',${g.p})">BLIK</button>
                    <button class="buy-btn" onclick="window.open('https://paypal.me/Kaczor8237/${g.p}PLN','_blank')">
                        PAYPAL
                    </button>
                </div>`;
            return div;
        }

        gamesDatabase.forEach(g => document.getElementById('gamesContainer').appendChild(createCard(g)));

        // strza≈Çki karuzeli
        document.querySelector('.prev-arrow').onclick = () => document.getElementById('gamesContainer').scrollBy({left:-350,behavior:'smooth'});
        document.querySelector('.next-arrow').onclick = () => document.getElementById('gamesContainer').scrollBy({left:350,behavior:'smooth'});

        function openBlikModal(title, price){
            currentGame = title; currentPrice = price;
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalPrice').textContent = price + " z≈Ç";
            document.getElementById('buyModal').style.display = "flex";
        }

        // G≈Å√ìWNA MAGIA ‚Äì BLIK NA TELEFON
        document.getElementById('payBlikBtn').onclick = async () => {
            const email = document.getElementById('buyerEmail').value.trim();
            const phone = document.getElementById('blikPhone').value.replace(/\s/g,'');
            
            if(!email || !/^\S+@\S+\.\S+$/.test(email)) return alert("Podaj poprawny e-mail!");
            if(!/^(\+48)?[0-9]{9}$/.test(phone.replace(/[\s-]/g,''))) return alert("Podaj prawid≈Çowy numer telefonu!");

            // Tworzymy p≈Çatno≈õƒá BLIK na telefon przez tpay.com
            const response = await fetch('https://secure.tpay.com/api/blik/phone', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    amount: currentPrice * 100,        // w groszach
                    description: "Klucz: " + currentGame,
                    phone: phone.startsWith('48') ? phone : '48'+phone.replace(/^0/,''),
                    email: email,
                    merchantId: 123456,               // ‚Üê ZMIE≈É NA SW√ìJ ID Z TPAy
                    sign: "TU_WSTAW_SW√ìJ_TPAY_SECRET"  // ‚Üê klucz API
                })
            });

            const data = await response.json();
            if(data.success){
                sendDiscord(email, phone, "BLIK na telefon");
                document.getElementById('buyModal').style.display = "none";
                document.getElementById('thanksGame').textContent = currentGame;
                document.getElementById('thanksEmail').textContent = email;
                document.getElementById('thanksModal').style.display = "flex";
            } else {
                alert("Co≈õ posz≈Ço nie tak ‚Äì napisz na Discorda, pomogƒô rƒôcznie!");
            }
        };

        async function sendDiscord(email, phone, method){
            let ip = "brak", loc = "brak";
            try{const r=await fetch('https://ipapi.co/json/');const d=await r.json();ip=d.ip;loc=d.city+", "+d.country_name}catch{}
            fetch(WEBHOOK,{method:"POST",headers:{"Content-Type":"application/json"},
                body:JSON.stringify({embeds:[{
                    title:"NOWE ZAM√ìWIENIE!",color:16763904,
                    fields:[
                        {name:"Gra",value:currentGame},
                        {name:"Cena",value:currentPrice+" z≈Ç"},
                        {name:"Metoda",value:method},
                        {name:"E-mail",value:email},
                        {name:"Telefon",value:phone},
                        {name:"IP / Lok.",value:ip+" ‚Äì "+loc},
                        {name:"Czas",value:new Date().toLocaleString("pl-PL")}
                    ],timestamp:new Date()
                }]})});
        }

        // zamykanie modali
        document.querySelectorAll('.close').forEach(x=>x.onclick=()=>document.querySelectorAll('.modal').forEach(m=>m.style.display='none'));
        window.onclick = e => {if(e.target.classList.contains('modal')) e.target.style.display='none';};
    </script>
</body>
</html>
